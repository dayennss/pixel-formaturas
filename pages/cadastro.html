<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Pixel Formaturas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header class="fixed-top">
        <nav class="navbar navbar-expand-lg bg-white">
            <div class="container">
                <a class="navbar-brand" href="../index.html">
                    <img src="../imagens/logo.png" alt="Logo Pixel Formaturas" height="40">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html">Início</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="funcionalidades.html">Funcionalidades</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="produtos.html">Produtos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="family-day.html">Family Day</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="taxas-financeiras.html">Taxas Financeiras</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="quem-somos.html">Quem somos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contatos.html">Contatos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary ms-lg-3" href="https://www.meusalbunsdeformatura.com.br">Já sou parceiro</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="py-5">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-8 col-lg-6">
                        <div class="card shadow-sm border-0">
                            <div class="card-body p-4">
                                <h2 class="text-center mb-4">Formulário de cadastro</h2>
                                
                                <!-- Etapa 1: Seleção de Tipo -->
                                <div id="step1" class="cadastro-step active">
                                    <h4 class="text-center mb-4">Possui CNPJ?</h4>
                                    <div class="d-flex justify-content-center gap-3 mb-4">
                                        <button class="btn btn-outline-primary btn-lg px-4" onclick="showStep(2, 'pj')">
                                            Sim
                                        </button>
                                        <button class="btn btn-outline-primary btn-lg px-4" onclick="showStep(2, 'pf')">
                                            Não
                                        </button>
                                    </div>
                                </div>

                                <!-- Etapa 2: Formulário -->
                                <div id="step2" class="cadastro-step">
                                    <div class="form-container">
                                        <div class="form-header">
                                            <h2>Cadastro de Parceiro</h2>
                                            <p>Preencha os dados abaixo para se tornar um parceiro Pixel Formaturas</p>
                                        </div>

                                        <!-- Formulário para Pessoa Física -->
                                        <form id="cadastroFormPF" class="needs-validation" novalidate style="display: none;">
                                            <div class="form-card">
                                                <div class="section-title">
                                                    <i class="fas fa-user"></i>
                                                    Dados Pessoais
                                                </div>
                                                <div class="row g-3">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label for="nomePF" class="form-label">
                                                                <i class="fas fa-user"></i>
                                                                Nome Completo*
                                                            </label>
                                                            <input type="text" class="form-control" id="nomePF" required placeholder="Digite seu nome completo">
                                                            <div class="invalid-feedback">Nome é obrigatório</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="celularPF" class="form-label">
                                                                <i class="fas fa-phone"></i>
                                                                Celular*
                                                            </label>
                                                            <input type="tel" class="form-control" id="celularPF" required placeholder="(00) 00000-0000">
                                                            <div class="invalid-feedback">Celular é obrigatório</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="emailPF" class="form-label">
                                                                <i class="fas fa-envelope"></i>
                                                                E-mail*
                                                            </label>
                                                            <input type="email" class="form-control" id="emailPF" required placeholder="seu@email.com">
                                                            <div class="invalid-feedback">E-mail inválido</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="senhaPF" class="form-label">
                                                                <i class="fas fa-lock"></i>
                                                                Senha*
                                                            </label>
                                                            <input type="password" class="form-control" id="senhaPF" required placeholder="Digite sua senha">
                                                            <div class="invalid-feedback">Senha é obrigatória</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="atuacaoPF" class="form-label">
                                                                <i class="fas fa-briefcase"></i>
                                                                Área de Atuação*
                                                            </label>
                                                            <select class="form-control" id="atuacaoPF" required>
                                                                <option value="">Selecione...</option>
                                                                <option value="Empresa de formatura">Empresa de formatura</option>
                                                                <option value="Outros">Outros</option>
                                                            </select>
                                                            <div class="invalid-feedback">Área de atuação é obrigatória</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-check mt-4">
                                                    <input class="form-check-input" type="checkbox" id="termosPF" required>
                                                    <label class="form-check-label" for="termosPF">
                                                        Declaro que as informações acima prestadas são verdadeiras, e assumo a inteira responsabilidade pelas mesmas.
                                                    </label>
                                                </div>
                                                <div class="btn-group">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-check me-2"></i>
                                                        CADASTRAR
                                                    </button>
                                                </div>
                                            </div>
                                        </form>

                                        <!-- Formulário para Pessoa Jurídica (mantém o existente) -->
                                        <form id="cadastroFormPJ" class="needs-validation" novalidate>
                                            <div class="step-indicator">
                                                <div class="step active" data-step="1">
                                                    <span>1</span>
                                                    <span class="step-label">Empresa</span>
                                                </div>
                                                <div class="step" data-step="2">
                                                    <span>2</span>
                                                    <span class="step-label">Sócio</span>
                                                </div>
                                                <div class="step" data-step="3">
                                                    <span>3</span>
                                                    <span class="step-label">Contato</span>
                                                </div>
                                                <div class="step" data-step="4">
                                                    <span>4</span>
                                                    <span class="step-label">Endereço</span>
                                                </div>
                                            </div>
                                            <!-- Mantém o conteúdo existente do formulário PJ -->
                                            <div class="form-card" id="stepCard1">
                                                <div class="section-title">
                                                    <i class="fas fa-building"></i>
                                                    Dados da Empresa
                                                </div>
                                                <div class="row g-3">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="nomeCadastro" class="form-label">
                                                                <i class="fas fa-user"></i>
                                                                Nome de Cadastro*
                                                            </label>
                                                            <input type="text" class="form-control" id="nomeCadastro" maxlength="20" required placeholder="Digite o nome de cadastro">
                                                            <div class="invalid-feedback">Nome de cadastro é obrigatório (máx. 20 caracteres)</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="cnpj" class="form-label">
                                                                <i class="fas fa-id-card"></i>
                                                                CNPJ*
                                                            </label>
                                                            <input type="text" class="form-control" id="cnpj" required placeholder="00.000.000/0000-00">
                                                            <div class="invalid-feedback">CNPJ inválido</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="razaoSocial" class="form-label">
                                                                <i class="fas fa-file-alt"></i>
                                                                Razão Social*
                                                            </label>
                                                            <input type="text" class="form-control" id="razaoSocial" maxlength="40" required placeholder="Digite a razão social">
                                                            <div class="invalid-feedback">Razão social é obrigatória</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="nomeEmpresa" class="form-label">
                                                                <i class="fas fa-store"></i>
                                                                Nome Fantasia*
                                                            </label>
                                                            <input type="text" class="form-control" id="nomeEmpresa" maxlength="40" required placeholder="Digite o nome fantasia">
                                                            <div class="invalid-feedback">Nome fantasia é obrigatório</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-outline-primary" onclick="nextStep(2)">
                                                        <i class="fas fa-arrow-right me-2"></i>
                                                        Próximo
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Passo 2: Dados do Sócio -->
                                            <div class="form-card" id="stepCard2" style="display: none;">
                                                <div class="section-title">
                                                    <i class="fas fa-user-tie"></i>
                                                    Dados do Sócio
                                                </div>
                                                <div class="row g-3">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="nomeSocio" class="form-label">
                                                                <i class="fas fa-user"></i>
                                                                Nome do Sócio*
                                                            </label>
                                                            <input type="text" class="form-control" id="nomeSocio" maxlength="40" required placeholder="Digite o nome do sócio">
                                                            <div class="invalid-feedback">Nome do sócio é obrigatório</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="cpfSocio" class="form-label">
                                                                <i class="fas fa-id-card"></i>
                                                                CPF do Sócio*
                                                            </label>
                                                            <input type="text" class="form-control" id="cpfSocio" required placeholder="000.000.000-00">
                                                            <div class="invalid-feedback">CPF inválido</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-outline-primary" onclick="prevStep(1)">
                                                        <i class="fas fa-arrow-left me-2"></i>
                                                        Voltar
                                                    </button>
                                                    <button type="button" class="btn btn-outline-primary" onclick="nextStep(3)">
                                                        <i class="fas fa-arrow-right me-2"></i>
                                                        Próximo
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Passo 3: Contato -->
                                            <div class="form-card" id="stepCard3" style="display: none;">
                                                <div class="section-title">
                                                    <i class="fas fa-address-card"></i>
                                                    Contato
                                                </div>
                                                <div class="row g-3">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="telContato" class="form-label">
                                                                <i class="fas fa-phone"></i>
                                                                Telefone de Contato*
                                                            </label>
                                                            <input type="tel" class="form-control" id="telContato" required placeholder="(00) 00000-0000">
                                                            <div class="invalid-feedback">Telefone inválido</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="email" class="form-label">
                                                                <i class="fas fa-envelope"></i>
                                                                E-mail*
                                                            </label>
                                                            <input type="email" class="form-control" id="email" required placeholder="seu@email.com">
                                                            <div class="invalid-feedback">E-mail inválido</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="senha" class="form-label">
                                                                <i class="fas fa-lock"></i>
                                                                Senha*
                                                            </label>
                                                            <input type="password" class="form-control" id="senha" required placeholder="Digite sua senha">
                                                            <div class="invalid-feedback">Senha é obrigatória</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-outline-primary" onclick="prevStep(2)">
                                                        <i class="fas fa-arrow-left me-2"></i>
                                                        Voltar
                                                    </button>
                                                    <button type="button" class="btn btn-outline-primary" onclick="nextStep(4)">
                                                        <i class="fas fa-arrow-right me-2"></i>
                                                        Próximo
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Passo 4: Endereço -->
                                            <div class="form-card" id="stepCard4" style="display: none;">
                                                <div class="section-title">
                                                    <i class="fas fa-map-marker-alt"></i>
                                                    Endereço
                                                </div>
                                                <div class="row g-3">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="cep" class="form-label">
                                                                <i class="fas fa-map-pin"></i>
                                                                CEP*
                                                            </label>
                                                            <input type="text" class="form-control" id="cep" required placeholder="00000-000">
                                                            <div class="invalid-feedback">CEP inválido</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="endereco" class="form-label">
                                                                <i class="fas fa-road"></i>
                                                                Endereço*
                                                            </label>
                                                            <input type="text" class="form-control" id="endereco" required placeholder="Digite o endereço">
                                                            <div class="invalid-feedback">Endereço é obrigatório</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="numEndereco" class="form-label">
                                                                <i class="fas fa-hashtag"></i>
                                                                Número*
                                                            </label>
                                                            <input type="text" class="form-control" id="numEndereco" maxlength="10" required placeholder="Número">
                                                            <div class="invalid-feedback">Número é obrigatório</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div class="form-group">
                                                            <label for="complementoEndereco" class="form-label">
                                                                <i class="fas fa-plus"></i>
                                                                Complemento
                                                            </label>
                                                            <input type="text" class="form-control" id="complementoEndereco" maxlength="20" placeholder="Complemento">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="bairro" class="form-label">
                                                                <i class="fas fa-map"></i>
                                                                Bairro*
                                                            </label>
                                                            <input type="text" class="form-control" id="bairro" required placeholder="Bairro">
                                                            <div class="invalid-feedback">Bairro é obrigatório</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="cidade" class="form-label">
                                                                <i class="fas fa-city"></i>
                                                                Cidade*
                                                            </label>
                                                            <input type="text" class="form-control" id="cidade" required placeholder="Cidade">
                                                            <div class="invalid-feedback">Cidade é obrigatória</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="estado" class="form-label">
                                                                <i class="fas fa-flag"></i>
                                                                Estado*
                                                            </label>
                                                            <input type="text" class="form-control" id="estado" maxlength="2" required placeholder="UF">
                                                            <div class="invalid-feedback">Estado é obrigatório</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-check mt-4">
                                                    <input class="form-check-input" type="checkbox" id="termos" required>
                                                    <label class="form-check-label" for="termos">
                                                        Declaro que as informações acima prestadas são verdadeiras, e assumo a inteira responsabilidade pelas mesmas.
                                                    </label>
                                                </div>
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-outline-primary" onclick="prevStep(3)">
                                                        <i class="fas fa-arrow-left me-2"></i>
                                                        Voltar
                                                    </button>
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-check me-2"></i>
                                                        CADASTRAR
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-dark text-light py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5>Pixel Formaturas</h5>
                    <p>A melhor solução para formaturas do grupo Pixel House. Desde 2004, oferecemos soluções rápidas e fáceis para revelação digital e fotoprodutos personalizados.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Links Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="text-light">Início</a></li>
                        <li><a href="funcionalidades.html" class="text-light">Funcionalidades</a></li>
                        <li><a href="produtos.html" class="text-light">Produtos</a></li>
                        <li><a href="family-day.html" class="text-light">Family Day</a></li>
                        <li><a href="taxas-financeiras.html" class="text-light">Taxas Financeiras</a></li>
                        <li><a href="quem-somos.html" class="text-light">Quem Somos</a></li>
                        <li><a href="contatos.html" class="text-light">Contatos</a></li>
                        <li><a href="https://www.meusalbunsdeformatura.com.br" class="text-light">Área do Parceiro</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Contato</h5>
                    <address>
                        <p><i class="fas fa-map-marker-alt me-2"></i> Alameda Surubiju, 1850, Alphaville Industrial, Barueri - SP, 06455-040</p>
                        <p><i class="fas fa-phone me-2"></i> (11) 3509-5299</p>
                        <p><i class="fas fa-clock me-2"></i> Atendimento de 2ª a 6ª, das 09h às 18h</p>
                    </address>
                    <div class="mt-3">
                        <a href="https://www.facebook.com/pixelformaturas" target="_blank" class="me-2 text-light"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/pixelformaturas" target="_blank" class="me-2 text-light"><i class="fab fa-instagram"></i></a>
                        <a href="https://api.whatsapp.com/send?phone=551135095299" target="_blank" class="text-light"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>Copyright 2024: Pixel House Soluções em Imagem :: CNPJ 06.251.204/0001-81</p>
            </div>
        </div>
    </footer>

    <div class="whatsapp-float">
        <a href="https://api.whatsapp.com/send?phone=551135095299" target="_blank">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <div class="loader-overlay" id="loaderOverlay">
        <div class="loader-content">
            <div class="loader"></div>
            <p class="loader-text">Enviando cadastro...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/main.js"></script>

    <style>
    .cadastro-step {
        display: none;
    }

    .cadastro-step.active {
        display: block;
    }

    .form-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
    }

    .form-header {
        text-align: center;
        margin-bottom: 3rem;
    }

    .form-header h2 {
        color: #E30613;
        font-weight: 700;
        margin-bottom: 1rem;
    }

    .form-header p {
        color: #666;
        font-size: 1.1rem;
    }

    .step-indicator {
        display: flex;
        justify-content: space-between;
        margin-bottom: 3rem;
        position: relative;
    }

    .step-indicator::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 2px;
        background: #eee;
        transform: translateY(-50%);
        z-index: 1;
    }

    .step {
        position: relative;
        z-index: 2;
        background: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: #999;
        border: 2px solid #eee;
        transition: all 0.3s ease;
    }

    .step.active {
        background: #E30613;
        color: white;
        border-color: #E30613;
    }

    .step.completed {
        background: #4CAF50;
        color: white;
        border-color: #4CAF50;
    }

    .step-label {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        margin-top: 0.5rem;
        font-size: 0.9rem;
        color: #666;
        white-space: nowrap;
    }

    .form-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
        padding: 2.5rem;
        margin-bottom: 2rem;
        transition: all 0.3s ease;
    }

    .form-card:hover {
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
    }

    .form-section {
        margin-bottom: 2rem;
    }

    .form-section:last-child {
        margin-bottom: 0;
    }

    .section-title {
        color: #E30613;
        font-weight: 600;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
    }

    .section-title i {
        margin-right: 0.75rem;
        font-size: 1.2rem;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-label {
        font-weight: 500;
        color: #333;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
    }

    .form-label i {
        margin-right: 0.5rem;
        color: #E30613;
    }

    .form-control {
        border-radius: 8px;
        border: 1px solid #ddd;
        padding: 0.75rem 1rem;
        transition: all 0.3s ease;
        font-size: 1rem;
    }

    .form-control:focus {
        border-color: #E30613;
        box-shadow: 0 0 0 0.2rem rgba(227, 6, 19, 0.15);
    }

    .form-control::placeholder {
        color: #999;
    }

    .form-control:disabled {
        background-color: #f8f9fa;
        cursor: not-allowed;
    }

    .form-text {
        font-size: 0.875rem;
        color: #666;
        margin-top: 0.25rem;
    }

    .btn-group {
        display: flex;
        justify-content: space-between;
        margin-top: 2rem;
    }

    .btn {
        padding: 0.75rem 2rem;
        font-weight: 600;
        border-radius: 50px;
        transition: all 0.3s ease;
    }

    .btn-primary {
        background-color: #E30613;
        border-color: #E30613;
    }

    .btn-primary:hover {
        background-color: #c00511;
        border-color: #c00511;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(227, 6, 19, 0.3);
    }

    .btn-outline-primary {
        color: #E30613;
        border-color: #E30613;
    }

    .btn-outline-primary:hover {
        background-color: #E30613;
        color: white;
    }

    .form-check {
        margin-top: 1.5rem;
    }

    .form-check-input {
        margin-right: 0.5rem;
    }

    .form-check-label {
        color: #666;
    }

    .form-check-input:checked {
        background-color: #E30613;
        border-color: #E30613;
    }

    .invalid-feedback {
        color: #dc3545;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .valid-feedback {
        color: #198754;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    @media (max-width: 768px) {
        .form-container {
            padding: 1rem;
        }

        .form-card {
            padding: 1.5rem;
        }

        .step-indicator {
            margin-bottom: 2rem;
        }

        .step {
            width: 30px;
            height: 30px;
            font-size: 0.9rem;
        }

        .step-label {
            font-size: 0.8rem;
        }
    }

    .loader-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }

    .loader-content {
        text-align: center;
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        min-width: 200px;
    }

    .loader {
        width: 60px;
        height: 60px;
        border: 6px solid #f3f3f3;
        border-top: 6px solid #E30613;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
    }

    .loader-text {
        color: #E30613;
        font-weight: 600;
        font-size: 1.1rem;
        margin: 0;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    @media (max-width: 768px) {
        .loader-content {
            margin: 1rem;
            padding: 1.5rem;
        }

        .loader {
            width: 50px;
            height: 50px;
            border-width: 5px;
        }

        .loader-text {
            font-size: 1rem;
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.5s ease-out;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .alert-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 9999;
        padding: 1rem;
        display: flex;
        justify-content: center;
        pointer-events: none;
    }

    .alert {
        min-width: 400px;
        max-width: 90%;
        padding: 1.25rem;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 1rem;
        animation: slideDown 0.3s ease-out;
        pointer-events: auto;
        margin-bottom: 1rem;
    }

    .alert-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
    }

    .alert-content {
        flex: 1;
    }

    .alert-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
    }

    .alert-message {
        font-size: 1rem;
        line-height: 1.4;
    }

    .alert-close {
        background: none;
        border: none;
        color: inherit;
        cursor: pointer;
        padding: 0.5rem;
        margin-left: 0.5rem;
        opacity: 0.7;
        transition: opacity 0.2s;
    }

    .alert-close:hover {
        opacity: 1;
    }

    .alert-success {
        background: linear-gradient(135deg, #d4edda, #c3e6cb);
        color: #155724;
        border-left: 4px solid #28a745;
    }

    .alert-danger {
        background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        color: #721c24;
        border-left: 4px solid #dc3545;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-100%);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (max-width: 768px) {
        .alert {
            min-width: auto;
            width: 100%;
            max-width: 100%;
        }
    }
    </style>

    <script>
    // Função para mostrar a etapa do formulário
    function showStep(step, type) {
        // Esconde todas as etapas
        document.querySelectorAll('.cadastro-step').forEach(el => {
            el.classList.remove('active');
        });
        
        // Mostra a etapa selecionada
        document.getElementById('step' + step).classList.add('active');
        
        // Mostra o formulário correto baseado no tipo
        if (type === 'pf') {
            document.getElementById('cadastroFormPF').style.display = 'block';
            document.getElementById('cadastroFormPJ').style.display = 'none';
        } else if (type === 'pj') {
            document.getElementById('cadastroFormPF').style.display = 'none';
            document.getElementById('cadastroFormPJ').style.display = 'block';
            updateStepIndicator(1); // Sempre começa no primeiro passo do formulário PJ
        }
    }

    // Funções de validação
    function validarCNPJ(cnpj) {
        cnpj = cnpj.replace(/[^\d]/g, '');
        if (cnpj.length !== 14) return false;
        
        // Validação dos dígitos verificadores
        let tamanho = cnpj.length - 2;
        let numeros = cnpj.substring(0, tamanho);
        let digitos = cnpj.substring(tamanho);
        let soma = 0;
        let pos = tamanho - 7;
        
        for (let i = tamanho; i >= 1; i--) {
            soma += numeros.charAt(tamanho - i) * pos--;
            if (pos < 2) pos = 9;
        }
        
        let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
        if (resultado != digitos.charAt(0)) return false;
        
        tamanho = tamanho + 1;
        numeros = cnpj.substring(0, tamanho);
        soma = 0;
        pos = tamanho - 7;
        
        for (let i = tamanho; i >= 1; i--) {
            soma += numeros.charAt(tamanho - i) * pos--;
            if (pos < 2) pos = 9;
        }
        
        resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
        if (resultado != digitos.charAt(1)) return false;
        
        return true;
    }

    function validarCPF(cpf) {
        cpf = cpf.replace(/[^\d]/g, '');
        if (cpf.length !== 11) return false;
        
        // Validação dos dígitos verificadores
        let soma = 0;
        let resto;
        
        for (let i = 1; i <= 9; i++) {
            soma = soma + parseInt(cpf.substring(i-1, i)) * (11 - i);
        }
        
        resto = (soma * 10) % 11;
        if ((resto === 10) || (resto === 11)) resto = 0;
        if (resto !== parseInt(cpf.substring(9, 10))) return false;
        
        soma = 0;
        for (let i = 1; i <= 10; i++) {
            soma = soma + parseInt(cpf.substring(i-1, i)) * (12 - i);
        }
        
        resto = (soma * 10) % 11;
        if ((resto === 10) || (resto === 11)) resto = 0;
        if (resto !== parseInt(cpf.substring(10, 11))) return false;
        
        return true;
    }

    function validarSenha(senha) {
        return true;
        // return senha.length >= 8 && /[A-Za-z]/.test(senha) && /[0-9]/.test(senha);
    }

    function validarEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Função para mostrar mensagens
    function showMessage(type, message) {
        // Cria o container de alertas se não existir
        let alertContainer = document.querySelector('.alert-container');
        if (!alertContainer) {
            alertContainer = document.createElement('div');
            alertContainer.className = 'alert-container';
            document.body.appendChild(alertContainer);
        }

        // Remove mensagens existentes do mesmo tipo
        const existingAlerts = alertContainer.querySelectorAll(`.alert-${type}`);
        existingAlerts.forEach(alert => alert.remove());

        // Cria a nova mensagem
        const messageDiv = document.createElement('div');
        messageDiv.className = `alert alert-${type}`;
        
        const icon = type === 'success' ? 'check-circle' : 'exclamation-circle';
        const title = type === 'success' ? 'Sucesso!' : 'Atenção!';
        
        messageDiv.innerHTML = `
            <i class="fas fa-${icon} alert-icon"></i>
            <div class="alert-content">
                <div class="alert-title">${title}</div>
                <div class="alert-message">${message}</div>
            </div>
            <button type="button" class="alert-close" onclick="this.parentElement.remove()">
                <i class="fas fa-times"></i>
            </button>
        `;
        
        // Adiciona a mensagem ao container
        alertContainer.appendChild(messageDiv);

        // Remove mensagem após 8 segundos apenas se for erro
        if (type === 'danger') {
            setTimeout(() => {
                if (messageDiv && messageDiv.parentNode) {
                    messageDiv.style.opacity = '0';
                    messageDiv.style.transform = 'translateY(-100%)';
                    setTimeout(() => {
                        if (messageDiv && messageDiv.parentNode) {
                            messageDiv.remove();
                        }
                    }, 300);
                }
            }, 8000);
        }
    }

    // Função para mostrar/esconder loader
    function toggleLoader(show) {
        const loader = document.getElementById('loaderOverlay');
        loader.style.display = show ? 'flex' : 'none';
    }

    // Função para validar um passo do formulário
    function validarPasso(passo) {
        const card = document.getElementById(`stepCard${passo}`);
        const inputs = card.querySelectorAll('input[required]');
        let isValid = true;

        inputs.forEach(input => {
            if (!input.value) {
                input.classList.add('is-invalid');
                isValid = false;
            } else {
                input.classList.remove('is-invalid');
            }
        });

        return isValid;
    }

    // Função para navegar entre passos
    function nextStep(step) {
        if (!validarPasso(step - 1)) return;

        updateStepIndicator(step);
        toggleCard(step - 1, step);
    }

    function prevStep(step) {
        updateStepIndicator(step);
        toggleCard(step + 1, step);
    }

    // Função para alternar entre cards com animação
    function toggleCard(currentStep, nextStep) {
        const currentCard = document.getElementById(`stepCard${currentStep}`);
        const nextCard = document.getElementById(`stepCard${nextStep}`);

        currentCard.style.opacity = '0';
        currentCard.style.transition = 'opacity 0.3s ease';

        setTimeout(() => {
            currentCard.style.display = 'none';
            nextCard.style.display = 'block';
            nextCard.style.opacity = '0';
            
            nextCard.offsetHeight; // Força reflow
            
            nextCard.style.opacity = '1';
            nextCard.style.transition = 'opacity 0.3s ease';

            document.querySelector('.form-container').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }, 300);
    }

    // Função para atualizar indicador de progresso
    function updateStepIndicator(currentStep) {
        document.querySelectorAll('.step').forEach((stepEl, index) => {
            const stepNumber = parseInt(stepEl.dataset.step);
            if (stepNumber < currentStep) {
                stepEl.classList.add('completed');
                stepEl.classList.remove('active');
            } else if (stepNumber === currentStep) {
                stepEl.classList.add('active');
                stepEl.classList.remove('completed');
            } else {
                stepEl.classList.remove('active', 'completed');
            }
        });
    }

    // Função para enviar o formulário de Pessoa Física
    async function enviarFormularioPF(formData) {
        const loader = document.getElementById('loaderOverlay');
        
        try {
            // Remove qualquer mensagem existente antes de começar
            const existingMessages = document.querySelectorAll('.alert');
            existingMessages.forEach(msg => msg.remove());

            // Mostra o loader
            loader.style.display = 'flex';

            // Faz a requisição para a API específica para PF
            const response = await fetch('https://www.meusalbunsdeformatura.com.br/api/Gerencial/GetDadosInstitucionalPrincipal', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: JSON.stringify({
                    possuicnpj: false,
                    nome: formData.nome,
                    celular: formData.celular,
                    email: formData.email,
                    atuacao: formData.atuacao
                })
            });

            // Captura o texto da resposta primeiro
            const responseText = await response.text();
            
            // Tenta converter para JSON
            let data;
            try {
                data = JSON.parse(responseText);
            } catch (e) {
                console.error('Resposta da API:', responseText);
                throw new Error('Erro ao processar resposta do servidor');
            }

            // Se a resposta não for ok ou não tiver sucesso, lança erro
            if (!response.ok || !data.Sucesso) {
                throw new Error(data.Mensagem || 'Erro ao realizar cadastro');
            }

            // Sucesso confirmado
            showMessage('success', 'Cadastro realizado com sucesso!');
            
            // Aguarda 2 segundos antes de redirecionar
            setTimeout(() => {
                window.location.href = 'https://www.meusalbunsdeformatura.com.br/';
            }, 2000);

        } catch (error) {
            console.error('Erro completo:', error);
            showMessage('danger', error.message || 'Ocorreu um erro inesperado');
        } finally {
            // Sempre esconde o loader
            loader.style.display = 'none';
        }
    }

    // Função para enviar o formulário de Pessoa Jurídica
    async function enviarFormularioPJ(formData) {
        const loader = document.getElementById('loaderOverlay');
        
        try {
            // Remove qualquer mensagem existente antes de começar
            const existingMessages = document.querySelectorAll('.alert');
            existingMessages.forEach(msg => msg.remove());

            // Mostra o loader
            loader.style.display = 'flex';

            // Faz a requisição para a API
            const response = await fetch('https://www.meusalbunsdeformatura.com.br/api/Gerencial/CadastrarNovaEmpresa', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: JSON.stringify(formData)
            });

            // Captura o texto da resposta primeiro
            const responseText = await response.text();
            
            // Tenta converter para JSON
            let data;
            try {
                data = JSON.parse(responseText);
            } catch (e) {
                console.error('Resposta da API:', responseText);
                throw new Error('Erro ao processar resposta do servidor');
            }

            // Se a resposta não for ok ou não tiver sucesso, lança erro
            if (!response.ok || !data.Sucesso) {
                throw new Error(data.Mensagem || 'Erro ao realizar cadastro');
            }

            // Sucesso confirmado
            showMessage('success', 'Cadastro realizado com sucesso!');
            
            // Aguarda 2 segundos antes de redirecionar
            setTimeout(() => {
                window.location.href = 'https://www.meusalbunsdeformatura.com.br/';
            }, 2000);

        } catch (error) {
            console.error('Erro completo:', error);
            showMessage('danger', error.message || 'Ocorreu um erro inesperado');
        } finally {
            // Sempre esconde o loader
            loader.style.display = 'none';
        }
    }

    // Inicialização do formulário
    document.addEventListener('DOMContentLoaded', function() {
        // Máscaras para os campos
        const telefoneInput = document.getElementById('celularPF');
        const cnpjInput = document.getElementById('cnpj');
        const cpfInput = document.getElementById('cpfSocio');
        const cepInput = document.getElementById('cep');

        // Máscara para telefone (PF)
        if (telefoneInput) {
            telefoneInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length <= 11) {
                    value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                    value = value.replace(/(\d)(\d{4})$/, '$1-$2');
                }
                e.target.value = value;
            });
        }

        // Mantém as máscaras existentes para PJ
        // ... (código existente das máscaras)

        // Validação em tempo real para ambos os formulários
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', function() {
                if (this.value) {
                    this.classList.remove('is-invalid');
                }
            });
        });

        // Submissão do formulário PF
        document.getElementById('cadastroFormPF').addEventListener('submit', async function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Remove mensagens existentes
            const existingMessages = document.querySelectorAll('.alert');
            existingMessages.forEach(msg => msg.remove());

            // Validação básica do formulário
            if (!this.checkValidity()) {
                this.classList.add('was-validated');
                showMessage('danger', 'Por favor, preencha todos os campos obrigatórios');
                return;
            }

            // Validações adicionais
            const email = document.getElementById('emailPF').value;
            const senha = document.getElementById('senhaPF').value;
            const termos = document.getElementById('termosPF').checked;

            if (!validarEmail(email)) {
                showMessage('danger', 'E-mail inválido');
                return;
            }

            if (!validarSenha(senha)) {
                showMessage('danger', 'A senha deve ter pelo menos 8 caracteres, incluindo letras e números');
                return;
            }

            if (!termos) {
                showMessage('danger', 'Você precisa aceitar os termos para continuar');
                return;
            }

            // Prepara os dados do formulário PF
            const formData = {
                nome: document.getElementById('nomePF').value,
                celular: document.getElementById('celularPF').value.replace(/\D/g, ''),
                email: email,
                senha: senha,
                atuacao: document.getElementById('atuacaoPF').value
            };

            // Envia o formulário PF
            await enviarFormularioPF(formData);
        });

        // Mantém o evento de submissão existente para PJ
        document.getElementById('cadastroFormPJ').addEventListener('submit', async function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Remove mensagens existentes
            const existingMessages = document.querySelectorAll('.alert');
            existingMessages.forEach(msg => msg.remove());

            // Validação básica do formulário
            if (!this.checkValidity()) {
                this.classList.add('was-validated');
                showMessage('danger', 'Por favor, preencha todos os campos obrigatórios');
                return;
            }

            // Validações adicionais
            const cnpj = document.getElementById('cnpj').value;
            const cpf = document.getElementById('cpfSocio').value;
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
            const termos = document.getElementById('termos').checked;

            if (!validarCNPJ(cnpj)) {
                showMessage('danger', 'CNPJ inválido');
                return;
            }

            if (!validarCPF(cpf)) {
                showMessage('danger', 'CPF inválido');
                return;
            }

            if (!validarEmail(email)) {
                showMessage('danger', 'E-mail inválido');
                return;
            }

            if (!validarSenha(senha)) {
                showMessage('danger', 'A senha deve ter pelo menos 8 caracteres, incluindo letras e números');
                return;
            }

            if (!termos) {
                showMessage('danger', 'Você precisa aceitar os termos para continuar');
                return;
            }

            // Prepara os dados do formulário PJ
            const formData = {
                NomeCadastro: document.getElementById('nomeCadastro').value,
                CNPJ: cnpj.replace(/\D/g, ''),
                razaoSocial: document.getElementById('razaoSocial').value,
                NomeEmpresa: document.getElementById('nomeEmpresa').value,
                NomeSocio: document.getElementById('nomeSocio').value,
                CPFSocio: cpf.replace(/\D/g, ''),
                TelContato: document.getElementById('telContato').value.replace(/\D/g, ''),
                Email: email,
                Senha: senha,
                CEP: document.getElementById('cep').value.replace(/\D/g, ''),
                Endereço: document.getElementById('endereco').value,
                NumEndereco: document.getElementById('numEndereco').value,
                ComplementoEndereco: document.getElementById('complementoEndereco').value || '',
                Bairro: document.getElementById('bairro').value,
                Cidade: document.getElementById('cidade').value,
                Estado: document.getElementById('estado').value,
                AreaAtuacao: "Empresa de formatura"
            };

            // Envia o formulário PJ
            await enviarFormularioPJ(formData);
        });
    });
    </script>
</body>
</html> 